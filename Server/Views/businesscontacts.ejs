<%- include partials/header.ejs %> <%- include partials/main_nav.ejs %>

<!-- build table -->
<div class="container">
  <div class="row d-flex align-items-center mb-2 mt-2">
  <div class="col-3">
  <h1 class="m-0"><%= title %></h1>
  </div>
  <div class="col-3">
  <% if(username) { %>
    <a href="/businesscontacts/add"
    ><button class="btn btn-primary"><i class="far fa-plus-square"></i> Add Contact</button></a
  >
  <% } %>
  </div>
  </div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Phone</th>
        <th scope="col">E-Mail</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <!-- render rows for each item in database -->
    <tbody>
      <% for(let i = 0; i < businesscontacts.length; i++) {%>
      <tr>
        <th scope="row"><%= i + 1 %></th>
        <td><%= businesscontacts[i].name %></td>
        <td><%= businesscontacts[i].phone %></td>
        <td><%= businesscontacts[i].email %></td>
        <td><a href=<%= "businesscontacts/edit/" + businesscontacts[i]._id %>><button class="btn btn-primary"><i class="far fa-edit"></i> Edit</button></a>
        <td><a href=<%= "businesscontacts/delete/" + businesscontacts[i]._id %>><button class="btn btn-danger"><i class="far fa-trash-alt"></i> Delete</button></a>
      </tr>

      <% } %>
    </tbody>
  </table>
</div>

<%- include partials/bottom_nav.ejs %> <%- include partials/footer.ejs %>
